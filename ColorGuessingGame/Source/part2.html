<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Color Guessing Game</title>
<script type="text/javascript">
	var colors = [ "aqua", "black", "cyan", "fuchsia", "gold", "indigo",
			"lavender", "magenta", "navy", "olive", "peru", "red", "silver",
			"tomato", "wheat" ];
	var targetColorName;
	var finished = false;
	var guessCount = 0;
	var userInput;

	function do_game() {
		var randomColorIndex = Math.floor(Math.random() * 15);
		targetColorName = colors[randomColorIndex];

		alert(targetColorName); // for debugging

		while (!finished) {
			userInput = prompt("I am thinking of one of these colors:\n\n"
					+ colors.join(", ") + "\n\nWhat color am I thinking of?");
			guessCount++;
			if (check_guess()) {
				finished = true;

				var myBody = document.getElementsByTagName("body")[0];
				myBody.style.background = targetColorName;

				alert("Congratulations! You have guessed the color!\n\nIt took you "
						+ guessCount
						+ " guess(-es) to finish the game!\n\nYou can see the colour in the background.")
			}
		}
	}

	function check_guess() {
		if (colors.indexOf(userInput) <= -1) {
			alert("Sorry, I don't recognize your color.\n\nPlease try again.");
			return false;
		}

		if (userInput > targetColorName) {
			alert("Sorry, your guess is not correct!\n\nHint: your color is alphabetically higher than mine.\n\nPlease try again.");
			return false;
		}

		if (userInput < targetColorName) {
			alert("Sorry, your guess is not correct!\n\nHint: your color is alphabetically lower than mine.\n\nPlease try again.");
			return false;
		}

		return true;
	}
</script>
</head>
<body onload="do_game()">
</body>
</html>